<script type="text/javascript">
  $(function() {
    new Highcharts.Chart({
      colors: ["#DDDF0D", "#7798BF", "#55BF3B", "#DF5353", "#aaeeee", "#ff0066", "#eeaaee", "#55BF3B", "#DF5353", "#7798BF", "#aaeeee"],
      chart: {
        renderTo: "chart",
        height: 300,
        width: 600,
        backgroundColor: {
          linearGradient: [0, 0, 0, 400],
          stops: [
            [0, "rgb(96, 96, 96)"],
            [1, "rgb(16, 16, 16)"]
          ]
        },
        borderWidth: 0,
        borderRadius: 15,
        plotBackgroundColor: null,
        plotShadow: false,
        plotBorderWidth: 0
      },
      title: {
        text: "Evolucion del proyecto",
        style: {
          color: "#999",
          fontWeight: "bold"
        }
      },
      xAxis: {
        gridLineWidth: 0,
        lineColor: "#999",
        tickColor: "#999",
        labels: {
          style: {
            color: "#999",
            fontWeight: "bold"
          }
        },
        type: "datetime"
      },
      yAxis: {
        alternateGridColor: null,
        minorTickInterval: null,
        gridLineColor: "rgba(255, 255, 255, .1)",
        lineWidth: 0,
        tickWidth: 0,
        min:0,
        max:4,
        labels: {
          style: {
            color: "#999",
            fontWeight: "bold"
          }
        },
        title: {
          style: {
            color: "#AAA",
            font: "bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"
          }
        },
        title: {
          text: "Estados de animo"
        },
        categories: ["Enojado", "Triste", "Neutral","Contento", "Feliz"]
      },
      legend: {
        itemStyle: {
          color: "#CCC"
        },
        itemHoverStyle: {
          color: "#FFF"
        },
        itemHiddenStyle: {
          color: "#333"
        }
      },
      labels: {
        style: {
          color: "#CCC"
        }
      },
      tooltip: {
        backgroundColor: {
          linearGradient: [0, 0, 0, 50],
          stops: [
            [0, "rgba(96, 96, 96, .8)"],
            [1, "rgba(16, 16, 16, .8)"]
          ]
        },
        borderWidth: 0,
        style: {
          color: "#FFF"
        }
      },
      plotOptions: {
        line: {
          dataLabels: {
            color: "#CCC"
          },
          marker: {
            lineColor: "#333"
          }
        },
        spline: {
          marker: {
            lineColor: "#333"
          }
        },
        scatter: {
          marker: {
            lineColor: "#333"
          }
        },
        candlestick: {
          lineColor: "white"
        }
      },
      series: [{
        name: "Estados",
        data: [[Date.UTC(<%= @project.created_at.strftime("%Y, %m-1, %d")%>), 4]
        <% @project.moods.each do |m|%>
          ,[Date.UTC(<%=m.created_at.strftime("%Y, %m-1, %d, %H")%>), <%=m.mood_number%>]
        <%end%>]
      }]
    });
  });
</script>
